### í™˜ê²½ ë³€ìˆ˜
@baseUrl = http://localhost:4000
@driverToken = access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjMDk0OTNjOS1mYTQzLTQyYTItODExOS1jNDAwNDUwYjkxYTMiLCJqdGkiOiIyNTdjMjdjNi00YTI5LTQ3MzEtYTI3MS0zODNlMDEyMmEyNDAiLCJyb2xlIjoiRFJJVkVSIiwiaWF0IjoxNzYyMTU5MjI2LCJleHAiOjE3NjIxNjAxMjYsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6NDAwMCJ9.Wwvm4XTSuq1WSiz96qOcgd6oAFPVjvi-Joa5qWosPr4; Max-Age=900;
@consumerToken = access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjNmQxOTAyNS1jNzJlLTQxYTgtYmM3Zi0yMWNkOGZhMzA3MzYiLCJqdGkiOiI3YTc5OGRlOC0xYmY2LTRjMmQtOTVlZC00ZjMzODRkODBjOGMiLCJyb2xlIjoiQ09OU1VNRVIiLCJpYXQiOjE3NjE1Mzk0MDcsImV4cCI6MTc2MTU0MDMwNywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo0MDAwIn0.O4rbs8AQ2IlBXPBvUsd4wvY_bkSVmueQoo1utj9aRng;
@pendingRequestId = 2fdfc942-00b1-4d16-89d4-bc4f1f0102e3
@nonPendingRequestId = 2fdfc942-00b1-4d16-89d4-bc4f1f0102e3
@validConsumerId = 469f89ad-02a2-4c54-800e-ee0073594338
@otherConsumerId = 813567a5-b2e6-4c05-b35d-3e9e352cbbbb
@notExistConsumerId = 7571e92b-f38b-4878-959c-f76ab9290ed8

### 1) ì •ìƒ: ë“œë¼ì´ë²„ê°€ PENDING ìš”ì²­ì˜ ì†Œë¹„ìì—ê²Œ ë°© ìƒì„±/ì¡°íšŒ (201 ê¸°ëŒ€)
POST {{baseUrl}}/chatting-rooms
Cookie: {{driverToken}}
Content-Type: application/json

{
  "requestId": "{{pendingRequestId}}",
  "consumerId": "{{validConsumerId}}"
}

### 2) ë©±ë“± í™•ì¸: ê°™ì€ í˜ì´ë¡œë“œ ì¬í˜¸ì¶œí•´ë„ ë™ì¼ roomId ë°˜í™˜ (201 ê¸°ëŒ€)
POST {{baseUrl}}/chatting-rooms
Cookie: {{driverToken}}
Content-Type: application/json

{
  "requestId": "{{pendingRequestId}}",
  "consumerId": "{{validConsumerId}}"
}

### 3) ìš”ì²­-ì†Œë¹„ì ë¶ˆì¼ì¹˜ (403 ê¸°ëŒ€)
POST {{baseUrl}}/chatting-rooms
Cookie: {{driverToken}}
Content-Type: application/json

{
  "requestId": "{{pendingRequestId}}",
  "consumerId": "{{otherConsumerId}}"
}

### 4) ì†Œë¹„ì ì—†ìŒ (404 ê¸°ëŒ€)
POST {{baseUrl}}/chatting-rooms
Cookie: {{driverToken}}
Content-Type: application/json

{
  "requestId": "{{pendingRequestId}}",
  "consumerId": "{{notExistConsumerId}}"
}

### 5) ì¸ì¦ ì—†ìŒ (401 ê¸°ëŒ€) - í† í° í—¤ë” ì œê±°
POST {{baseUrl}}/chatting-rooms
Content-Type: application/json

{
  "requestId": "{{pendingRequestId}}",
  "consumerId": "{{validConsumerId}}"
}

### 6) ë“œë¼ì´ë²„ê°€ ì•„ë‹Œ ì‚¬ìš©ì(ì»¨ìŠˆë¨¸ í† í°) í˜¸ì¶œ (403 ê¸°ëŒ€: RolesGuard/RequireRoles('DRIVER'))
POST {{baseUrl}}/chatting-rooms
Cookie: {{consumerToken}}
Content-Type: application/json

{
  "requestId": "{{pendingRequestId}}",
  "consumerId": "{{validConsumerId}}"
}

@roomId = 2d88c434-d9aa-4cf6-b7af-270247b48e8e
@nextCursor = eyJsaWtlZEF0IjoiMjAyNS0xMC0yMVQxNTo1Njo0My4wMDBaIiwiaWQiOiIyZDg4YzQzNC1kOWFhLTRjZjYtYjdhZi0yNzAyNDdiNDhlOGUifQ==
@otherRoomId = 2d88c434-d9aa-4cf6-b7af-270247b48e8e
### ğŸ“Œ 1. ì±„íŒ…ë°© ë©”ì‹œì§€ 1í˜ì´ì§€ ì¡°íšŒ (cursor ì—†ìŒ)
GET http://localhost:4000/chatting-rooms/{{roomId}}/messages?limit=30
Cookie: access_token={{driverToken}}
Accept: application/json

###

### ğŸ“Œ 2. ì±„íŒ…ë°© ë©”ì‹œì§€ 1í˜ì´ì§€ ì¡°íšŒ (limit 10)
GET http://localhost:4000/chatting-rooms/{{roomId}}/messages?limit=10
Cookie: access_token={{driverToken}}
Accept: application/json

###

### ğŸ“Œ 3. 2í˜ì´ì§€ ì¡°íšŒ (ì•ì—ì„œ ë°›ì€ nextCursor ì‚¬ìš©)
GET http://localhost:4000/chatting-rooms/{{roomId}}/messages?cursor={{nextCursor}}&limit=10
Cookie: access_token={{driverToken}}}
Accept: application/json

###

### ğŸ“Œ 4. ê¶Œí•œ ì—†ëŠ” ì‚¬ìš©ìê°€ ì¡°íšŒ (í…ŒìŠ¤íŠ¸ìš©)
GET http://localhost:4000/chatting-rooms/{{otherRoomId}}/messages
Cookie: access_token={{driverToken}}
Accept: application/json

###

### ğŸ“Œ 5. ì˜ëª»ëœ cursorë¡œ ì¡°íšŒ (ì—ëŸ¬ ì‘ë‹µ í™•ì¸)
GET http://localhost:4000/chatting-rooms/{{roomId}}/messages?cursor=invalid-base64
Cookie: access_token={{driverToken}}
Accept: application/json

### ============================================================
### 1) ë‚´ ì±„íŒ…ë°© ëª©ë¡ ì¡°íšŒ (Bearer) â€” unreadCount í™•ì¸
### ============================================================
GET {{baseUrl}}/chatting-rooms/my
Cookie: access_token={{driverToken}}

### ============================================================
### 2) ë‚´ ì±„íŒ…ë°© ëª©ë¡ ì¡°íšŒ (Cookie) â€” unreadCount í™•ì¸
### ============================================================
GET {{baseUrl}}/chatting-rooms/my
Cookie: access_token={{driverToken}}


### ============================================================
### 3) ì¸ì¦ ì—†ì´ í˜¸ì¶œ (401 ê¸°ëŒ€)
### ============================================================
GET {{baseUrl}}/chatting-rooms/my


### ============================================================
### (ì„ íƒ) íŠ¹ì • ë°© ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒë¡œ ìœ¡ì•ˆ ê²€ì¦
###  - ì•„ë˜ roomIdì— ìœ„ 1) ì‘ë‹µì—ì„œ ë°›ì€ ê°’ ë„£ê³  í™•ì¸
###  - unreadCount > 0 ì´ë©´ ì—¬ê¸° ëª©ë¡ì—ì„œ
###    senderId != ë‚´ ì•„ì´ë”” && ì½ìŒê¸°ë¡ ì—†ëŠ” ë©”ì‹œì§€ ìˆ˜ì™€ ë§ëŠ”ì§€ ë¹„êµ
### ============================================================
@roomId = REPLACE_ME_ROOM_ID

GET {{baseUrl}}/chatting-rooms/{{roomId}}/messages
Cookie: access_token={{driverToken}}