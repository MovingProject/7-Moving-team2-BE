### 환경 변수
@baseUrl = http://localhost:4000
@consumerAccessToken = 


### 공통 헤더 (필요 시 복사해서 각 요청에 붙여 사용)
# Authorization: Bearer {{accessToken}}
# Content-Type: application/json

POST {{baseUrl}}/auth/signin
Content-Type: application/json

{
  "email": "consumer12@test.com",
  "password": "password123",
  "role": "CONSUMER"
}
################################################################
# 1) 소비자 프로필 등록 - 성공(201)
#    image는 선택(Optional). 문자열로 URL 또는 key 어떤 것이든 허용.
#    serviceType, areas는 프로젝트 enum에 맞게 수정!
################################################################


###
POST {{baseUrl}}/consumers/profile
Cookie: {{consumerAccessToken}}
Content-Type: application/json

{
  "image": "https://cdn.example.com/sample-avatar.png",
  "serviceType": "HOME_MOVE",   
  "areas": "SEOUL"               
}

### 1-1) 소비자 프로필 등록 - image 없이(201)
POST {{baseUrl}}/consumers/profile
Cookie: {{consumerAccessToken}}
Content-Type: application/json

{
  "serviceType": "HOME_MOVE",
  "areas": "SEOUL"
}

### 1-2) 소비자 프로필 등록 - 중복 시도 (409 기대)
POST {{baseUrl}}/consumers/profile
Cookie: {{consumerAccessToken}}
Content-Type: application/json

{
  "image": "avatar-key-or-url",
  "serviceType": "HOME_MOVE",
  "areas": "SEOUL"
}

### 1-3) 소비자 프로필 등록 - 미인증 (401 기대)
POST {{baseUrl}}/consumers/profile
Content-Type: application/json
Cookie: 

{
  "serviceType": "HOME_MOVE",
  "areas": "SEOUL"
}


################################################################
# 2) 드라이버 로그인 (쿠키 받기)
################################################################
POST {{baseUrl}}/auth/signin
Content-Type: application/json

{
  "email": "driver6@test.com",
  "password": "password123",
  "role": "DRIVER"
}

### 위 요청 응답의 Set-Cookie 에서 access_token=... 전체를 복사해 아래 변수에 넣어주세요.
@driverAccessToken = access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2Njk3ZGI2ZC1kMWFlLTQwNGQtOTc2OS03YTEzNjBkZDU5NjciLCJqdGkiOiJiNDdlODJlYS0xNTRkLTRjZjAtOWQ3Yy1iZWIyMDhjZjU3OTgiLCJyb2xlIjoiRFJJVkVSIiwiaWF0IjoxNzYwNDMxNjU5LCJleHAiOjE3NjA0MzI1NTksImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6NDAwMCJ9.WYnfqByVa9yCZEC5YT3lxSev-ghkr5UAbh3YcJQU0Mg;

################################################################
# 3) 드라이버 프로필 등록 - 성공(201)
################################################################
POST {{baseUrl}}/drivers/profile
Cookie: {{driverAccessToken}}
Content-Type: application/json

{
  "image": "https://cdn.example.com/driver.png",
  "nickname": "이사왕",
  "careerYears": 5,
  "oneLiner": "빠르고 안전하게!",
  "description": "10년 경력의 이사 전문가입니다.",
  "serviceTypes": ["HOME_MOVE", "OFFICE_MOVE"],
  "serviceAreas": ["SEOUL", "GYEONGGI"]
}

################################################################
# 3-1) 드라이버 프로필 등록 - 이미지 없이(201)
################################################################
POST {{baseUrl}}/drivers/profile
Cookie: {{driverAccessToken}}
Content-Type: application/json

{
  "nickname": "포장이사123",
  "careerYears": 0,
  "oneLiner": "정직한 견적",
  "description": "초보지만 성실히 하겠습니다!",
  "serviceTypes": ["HOME_MOVE"],
  "serviceAreas": ["SEOUL"]
}

################################################################
# 3-2) 드라이버 프로필 등록 - 중복 시도(409 기대)
################################################################
POST {{baseUrl}}/drivers/profile
Cookie: {{driverAccessToken}}
Content-Type: application/json

{
  "nickname": "이사왕",
  "careerYears": 5,
  "oneLiner": "빠르고 안전하게!",
  "description": "중복 생성 테스트",
  "serviceTypes": ["HOME_MOVE"],
  "serviceAreas": ["SEOUL"]
}

################################################################
# 3-3) 드라이버 프로필 등록 - 미인증(401 기대)
################################################################
POST {{baseUrl}}/drivers/profile
Content-Type: application/json

{
  "nickname": "무면허",
  "careerYears": 1,
  "oneLiner": "테스트",
  "description": "테스트",
  "serviceTypes": ["HOME_MOVE"],
  "serviceAreas": ["SEOUL"]
}

################################################################
# 3-4) 드라이버 프로필 등록 - 잘못된 역할(403 기대)
# (컨슈머 쿠키로 드라이버 프로필 생성 시도)
################################################################
POST {{baseUrl}}/drivers/profile
Cookie: {{consumerAccessToken}}
Content-Type: application/json

{
  "nickname": "권한오류테스트",
  "careerYears": 2,
  "oneLiner": "권한체크",
  "description": "컨슈머 쿠키로 드라이버 프로필 생성 시도",
  "serviceTypes": ["HOME_MOVE"],
  "serviceAreas": ["SEOUL"]
}